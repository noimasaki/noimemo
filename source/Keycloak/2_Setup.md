# セットアップ方法

## 1. インストール

### Docker を使用したセットアップ

Keycloak を簡単にセットアップする方法の一つとして、Docker を使用する方法があります。この方法では、Docker イメージを利用して Keycloak をコンテナとして起動します。以下の手順でセットアップを行います。

1. **Docker のインストール**

   - Docker がインストールされていない場合は、公式サイトの手順に従ってインストールします。
     - [Docker 公式インストールガイド](https://docs.docker.com/get-docker/)

2. **Keycloak コンテナの起動**

   - 以下のコマンドを使用して、Keycloak の公式 Docker イメージを取得し、コンテナを起動します。

   ```bash
   docker run -p 8080:8080 -e KEYCLOAK_ADMIN=admin -e KEYCLOAK_ADMIN_PASSWORD=admin quay.io/keycloak/keycloak:latest start-dev
   ```

   - `-p 8080:8080`: ホストのポート 8080 をコンテナのポート 8080 にマッピングします。
   - `-e KEYCLOAK_ADMIN=admin -e KEYCLOAK_ADMIN_PASSWORD=admin`: 管理者ユーザー名とパスワードを設定します（必要に応じて変更可能です）。
   - `quay.io/keycloak/keycloak:latest`: 最新の Keycloak イメージを使用します。
   - `start-dev`: 開発モードで Keycloak を起動します。

3. **コンテナの確認**
   - コマンドが成功すると、Keycloak はポート 8080 で実行されます。ブラウザで `http://localhost:8080` にアクセスして、Keycloak の管理コンソールにアクセスできます。

### バイナリからのセットアップ

※バイナリからのセットアップについては省略します。

## 2. 初期設定手順

### 管理コンソールへのアクセス

Keycloak のインストールが完了したら、次に管理コンソールにアクセスして初期設定を行います。以下に管理コンソールへのアクセス手順を示します。

1. **管理コンソールへのログイン**

   - ブラウザを開き、Keycloak の管理コンソールにアクセスします。
     - URL: `http://localhost:8080`
   - 表示されるログイン画面で、インストール時に設定した管理者ユーザー名とパスワードを使用してログインします（例: `admin` / `admin`）。

2. **初期設定ウィザードの確認**

   - ログイン後、最初に表示される管理画面で基本的な設定を確認・変更します。
   - **Realm の設定**: Keycloak では、ユーザー、クライアント、ロールなどをグループ化する単位として「Realm」を使用します。デフォルトの「Master Realm」以外に、必要に応じて新しい Realm を作成します。

3. **管理コンソールの概要**
   - Keycloak の管理コンソールでは、ユーザー管理、クライアント設定、ロールの割り当てなどの操作を行うことができます。画面左側のメニューから各種設定にアクセスし、環境に合わせた初期設定を行います。

以上で Keycloak の基本セットアップと初期設定の手順が完了です。コンソールを使って必要なユーザーやクライアントの設定を行い、シングルサインオンなどの機能を利用できるようになります。
